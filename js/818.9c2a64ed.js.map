{"version":3,"file":"js/818.9c2a64ed.js","mappings":"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","sources":["webpack://non-guide/./src/views/products/children/ProductsList.vue","webpack://non-guide/./src/views/products/children/ProductsList.vue?0f69"],"sourcesContent":["<template>\n  <nav class=\"navbar bg-light mt-6\">\n    <div class=\"container\">\n      <ul class=\"navbar-nav flex-row justify-content-between justify-content-md-start w-100\">\n        <li\n          v-for=\"(area, index) in areas\"\n          :key=\"index\"\n          class=\"nav-item me-md-5\"\n        >\n          <a\n            href=\"#\"\n            class=\"nav-link\"\n            :class=\"[areaSelected === area.name ? 'active fw-bold' : 'link-secondary']\"\n            @click.prevent=\"areaSelected = area.name\"\n          >\n            <span class=\"fs-md-4\">\n              {{ area.name }}\n            </span>\n            <small class=\"fs-8 fs-md-7 align-top ms-1\">\n              {{ area.amount }}\n            </small>\n          </a>\n        </li>\n      </ul>\n    </div>\n  </nav>\n\n  <section class=\"container pt-4 pt-md-5 mb-4 position-relative\">\n    <VueLoading\n      :active=\"isLoading\"\n      :is-full-page=\"false\"\n    />\n    <div class=\"row d-md-none gx-3 gx-md-4 align-items-md-start\">\n      <div\n        v-for=\"(product, index) in filterProducts\"\n        :key=\"product.id\"\n        class=\"col-6\"\n      >\n        <div\n          class=\"text-decoration-none position-relative mb-4 hover-scale hover-pointer\"\n          tabindex=\"0\"\n          @click=\"goProduct(product.id)\"\n          @keyup.enter=\"goProduct(product.id)\"\n        >\n          <div class=\"mb-2 position-relative\">\n            <img\n              class=\"w-100 ojf-cover rounded-1 mb-2\"\n              :src=\"product.imageUrl\"\n              :alt=\"product.title\"\n              :style=\"{height: `${mobileImgHeight}px`}\"\n            >\n            <small\n              v-if=\"product.price !== product.origin_price\"\n              class=\"text-white fw-bold position-absolute top-0 end-0 py-2 pe-2\"\n            >\n              Sale\n            </small>\n            <div\n              class=\"btn-block-filter d-flex position-absolute bottom-0 start-0 end-0 py-2 ps-3\n                rounded-1\"\n            >\n              <button\n                :ref=\"setItemRef\"\n                type=\"button\"\n                class=\"btn btn-outline-light btn--cart-plus rounded-circle border border-2\n                  me-2\"\n                @click.stop=\"addOne(product.id, index)\"\n              >\n                <i class=\"bi bi-cart-plus fs-5\" />\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-light btn--heart rounded-circle border border-2 pb-1\"\n                @click.stop=\"toggleFavorites(product.id)\"\n              >\n                <i\n                  class=\"bi fs-5\"\n                  :class=\"[isFavorite(product.id) ? 'bi-heart-fill' : 'bi-heart']\"\n                />\n              </button>\n            </div>\n          </div>\n          <h3 class=\"fs-6 fs-sm-5 fw-bold text-black text-truncate\">\n            {{ product.title }}\n          </h3>\n          <small class=\"fw-bold text-bold text-black me-2\">\n            $NT{{ $filters.currency(product.price) }}\n          </small>\n          <small\n            v-if=\"product.price !== product.origin_price\"\n            class=\"fw-bold text-bold text-secondary text-decoration-line-through\"\n          >\n            $NT{{ $filters.currency(product.origin_price) }}\n          </small>\n        </div>\n      </div>\n    </div>\n\n    <div\n      ref=\"masonryRow\"\n      class=\"row d-none d-md-flex\"\n    >\n      <div\n        v-for=\"(product, index) in filterProducts\"\n        :key=\"product.id\"\n        class=\"col-4 col-xl-3\"\n      >\n        <div\n          class=\"text-decoration-none mb-5 hover-scale hover-pointer\"\n          tabindex=\"0\"\n          @click=\"goProduct(product.id)\"\n          @keyup.enter=\"goProduct(product.id)\"\n        >\n          <div class=\"mb-2 position-relative\">\n            <img\n              class=\"w-100 rounded-1\"\n              :src=\"product.imageUrl\"\n              :alt=\"product.title\"\n            >\n            <span\n              v-if=\"product.price !== product.origin_price\"\n              class=\"text-block-filter text-white fw-bold text-end position-absolute top-0 start-0\n                end-0 py-2 pe-3\"\n            >\n              On Sale\n            </span>\n            <div\n              class=\"btn-block-filter d-flex position-absolute bottom-0 start-0 end-0 py-2 ps-3\n                rounded-1\"\n            >\n              <button\n                :ref=\"setMasonryItemRef\"\n                type=\"button\"\n                class=\"btn btn-outline-light btn--cart-plus rounded-circle border border-2\n                  me-2\"\n                @click.stop=\"addOne(product.id, index)\"\n              >\n                <i class=\"bi bi-cart-plus fs-5\" />\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-light btn--heart rounded-circle border border-2 pb-1\"\n                @click.stop=\"toggleFavorites(product.id)\"\n              >\n                <i\n                  class=\"bi fs-5\"\n                  :class=\"[isFavorite(product.id) ? 'bi-heart-fill' : 'bi-heart']\"\n                />\n              </button>\n            </div>\n          </div>\n          <h3 class=\"fs-5 fs-lg-4 fw-bold text-black\">\n            {{ product.title }}\n          </h3>\n          <span class=\"fw-bold text-bold text-black me-2\">\n            $NT{{ $filters.currency(product.price) }}\n          </span>\n          <span\n            v-if=\"product.price !== product.origin_price\"\n            class=\"fw-bold text-bold text-secondary text-decoration-line-through\"\n          >\n            $NT{{ $filters.currency(product.origin_price) }}\n          </span>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport windowResizeMixin from '@/mixins/windowResizeMixin';\nimport Masonry from 'masonry-layout/masonry';\nimport imagesLoaded from 'imagesloaded/imagesloaded';\n\nexport default {\n  mixins: [windowResizeMixin],\n  inject: ['$emitter', '$filters', '$pushMessageState'],\n  props: {\n    parentProductsData: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n      products: [],\n      device: '',\n      mobileImgHeight: 0,\n      areaSelected: '全部',\n      areas: [\n        { name: '全部', amount: 0 },\n        { name: '北部', amount: 0 },\n        { name: '中部', amount: 0 },\n        { name: '南部', amount: 0 },\n        { name: '東部', amount: 0 },\n        { name: '離島', amount: 0 },\n      ],\n      masonry: {},\n      imagesLoaded: {},\n      browserWidth: 0,\n      isLoading: true,\n      favorites: [],\n      itemRefs: [],\n      itemMasonryRefs: [],\n    };\n  },\n  computed: {\n    filterProducts() {\n      if (this.areaSelected !== '全部') {\n        return this.products.filter((product) => product.category.match(this.areaSelected));\n      }\n      return this.products;\n    },\n  },\n  watch: {\n    browserWidth() {\n      if (this.browserWidth < 576) {\n        this.device = 'mobile';\n        this.mobileImgHeight = (this.browserWidth - 16 - 12 * 2) * 0.5;\n      }\n      if (this.browserWidth >= 576 && this.browserWidth < 768) {\n        this.device = 'mobile';\n        this.mobileImgHeight = (532 - 16 * 2) * 0.5;\n      }\n      if (this.browserWidth >= 768) {\n        this.device = 'PC';\n      }\n    },\n    areaSelected(area) {\n      this.$emitter.emit('areaFromList', area);\n      this.$nextTick(() => {\n        this.masonry = new Masonry(this.$refs.masonryRow, {\n          percentPosition: true,\n        });\n        imagesLoaded(this.$refs.masonryRow, () => {\n          this.masonry.layout();\n          this.isLoading = false;\n        });\n      });\n    },\n  },\n  created() {\n    if (!this.$route.params.areaThroughRouter) {\n      this.areaSelected = '全部';\n    } else {\n      this.areaSelected = this.$route.params.areaThroughRouter;\n    }\n    this.getProducts();\n    this.getFavorites();\n    this.countAreaAmount();\n  },\n  mounted() {\n    this.$emitter.on('areaFromNavbar', this.areaFromNavbarHandler);\n    this.masonry = new Masonry(this.$refs.masonryRow, {\n      percentPosition: true,\n    });\n    imagesLoaded(this.$refs.masonryRow, () => {\n      this.masonry.layout();\n      this.$nextTick(() => {\n        this.isLoading = false;\n      });\n    });\n  },\n  beforeUpdate() {\n    this.itemRefs = [];\n    this.itemMasonryRefs = [];\n  },\n  beforeUnmount() {\n    this.$emitter.off('areaFromNavbar', this.areaFromNavbarHandler);\n  },\n  methods: {\n    getProducts() {\n      const productsArr = JSON.parse(JSON.stringify(this.parentProductsData));\n      const productsPromote = productsArr\n        .filter((item) => item.price !== item.origin_price);\n      productsPromote\n        .push(...productsArr.filter((item) => item.price === item.origin_price));\n      this.products = productsPromote;\n    },\n    countAreaAmount() {\n      this.areas[0].amount = this.products.length;\n      this.products.forEach((product) => {\n        switch (product.category) {\n          case '北部':\n            this.areas[1].amount += 1;\n            break;\n          case '中部':\n            this.areas[2].amount += 1;\n            break;\n          case '南部':\n            this.areas[3].amount += 1;\n            break;\n          case '東部':\n            this.areas[4].amount += 1;\n            break;\n          case '離島':\n            this.areas[5].amount += 1;\n            break;\n          default:\n            break;\n        }\n      });\n    },\n    goProduct(id) {\n      this.$router.push(`/products/${id}`);\n    },\n    areaFromNavbarHandler(area) {\n      this.areaSelected = area;\n    },\n    getFavorites() {\n      this.favorites = JSON.parse(localStorage.getItem('favoriteProducts')) || [];\n    },\n    toggleFavorites(id) {\n      this.favorites = JSON.parse(localStorage.getItem('favoriteProducts')) || [];\n      if (this.favorites.indexOf(id) === -1) {\n        this.favorites.push(id);\n      } else {\n        this.favorites = this.favorites.filter((item) => item !== id);\n      }\n      localStorage.setItem('favoriteProducts', JSON.stringify(this.favorites));\n    },\n    isFavorite(id) {\n      if (this.favorites.indexOf(id) !== -1) {\n        return true;\n      }\n      return false;\n    },\n    addOne(id, index) {\n      const productInfo = {\n        product_id: id,\n        qty: 1,\n      };\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.post(api, { data: productInfo })\n        .then((res) => {\n          if (res.data.success) {\n            this.$emitter.emit('addCart');\n          } else {\n            this.$pushMessageState(res, '加入購物車');\n          }\n        })\n        .catch((err) => {\n          this.$pushMessageState(err.response, '加入購物車');\n        });\n      const el = document.createElement('div');\n      el.textContent = '+1';\n      el.setAttribute('class', 'plus-one animate__animated animate__fadeOutUp');\n      if (this.browserWidth < 768) {\n        this.itemRefs[index].appendChild(el);\n        setTimeout(() => {\n          this.itemRefs[index].removeChild(el);\n        }, 1000);\n      } else {\n        this.itemMasonryRefs[index].appendChild(el);\n        setTimeout(() => {\n          this.itemMasonryRefs[index].removeChild(el);\n        }, 1000);\n      }\n    },\n    setItemRef(el) {\n      this.itemRefs.push(el);\n    },\n    setMasonryItemRef(el) {\n      this.itemMasonryRefs.push(el);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.btn--cart-plus,\n.btn--heart {\n  display: block;\n  width: 48px;\n  height: 48px;\n}\n\n.btn--cart-plus {\n  position: relative;\n  :deep(.plus-one) {\n    position: absolute;\n    font-size: 1.5rem;\n    font-weight: bold;\n    color: yellow;\n    top: -42px;\n    left: 8px;\n  }\n}\n\n.btn-block-filter {\n  background: linear-gradient(rgba(#000000, 0), rgba(#000000, 1) 70%)\n}\n</style>\n","import { render } from \"./ProductsList.vue?vue&type=template&id=54c8ae82&scoped=true\"\nimport script from \"./ProductsList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsList.vue?vue&type=style&index=0&id=54c8ae82&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Bryan\\\\Documents\\\\Frontend\\\\non-guide\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54c8ae82\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_15","ref","_hoisted_28","_createElementBlock","_Fragment","_renderList","$data","area","index","key","href","name","onClick","_toDisplayString","amount","_createVNode","_component_VueLoading","active","$options","product","id","tabindex","onKeyup","src","imageUrl","alt","title","style","height","price","origin_price","type","currency","mixins","windowResizeMixin","inject","props","parentProductsData","Array","default","data","products","device","mobileImgHeight","areaSelected","areas","masonry","imagesLoaded","browserWidth","isLoading","favorites","itemRefs","itemMasonryRefs","computed","filterProducts","this","filter","category","match","watch","$emitter","emit","$nextTick","Masonry","$refs","masonryRow","percentPosition","layout","created","$route","params","areaThroughRouter","getProducts","getFavorites","countAreaAmount","mounted","on","areaFromNavbarHandler","beforeUpdate","beforeUnmount","off","methods","productsArr","JSON","parse","stringify","productsPromote","item","push","length","forEach","goProduct","$router","localStorage","getItem","toggleFavorites","indexOf","setItem","isFavorite","addOne","productInfo","product_id","qty","api","$http","post","then","res","success","$pushMessageState","catch","err","response","el","document","createElement","textContent","setAttribute","appendChild","setTimeout","removeChild","setItemRef","setMasonryItemRef","__exports__","render"],"sourceRoot":""}